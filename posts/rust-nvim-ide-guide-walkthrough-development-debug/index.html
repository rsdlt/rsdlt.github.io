<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Rust and Neovim - A Thorough Guide and Walkthrough" /><meta name="author" content="rsdlt" /><meta property="og:locale" content="en" /><meta name="description" content="Edit: Some readers mentioned an issue with the example Lua code used to configure the simrat39/rust-tools.nvim plugin; that configuration code has been updated with the example configuration recommended in the plugin page as of the date of this edit. Thanks to Nazar Toakarak for letting me know. Readers have also asked me about the link to my latest Neovim config files, you can find them here." /><meta property="og:description" content="Edit: Some readers mentioned an issue with the example Lua code used to configure the simrat39/rust-tools.nvim plugin; that configuration code has been updated with the example configuration recommended in the plugin page as of the date of this edit. Thanks to Nazar Toakarak for letting me know. Readers have also asked me about the link to my latest Neovim config files, you can find them here." /><link rel="canonical" href="https://rsdlt.github.io/posts/rust-nvim-ide-guide-walkthrough-development-debug/" /><meta property="og:url" content="https://rsdlt.github.io/posts/rust-nvim-ide-guide-walkthrough-development-debug/" /><meta property="og:site_name" content="the trait" /><meta property="og:image" content="https://rsdlt.github.io/assets/img/nvim-rust-development/rsdlt-rust-ide-1.png" /><meta property="og:image:height" content="1215" /><meta property="og:image:width" content="2329" /><meta property="og:image:alt" content="My Rust development environment with Neovim" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-08-15T05:45:00-04:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://rsdlt.github.io/assets/img/nvim-rust-development/rsdlt-rust-ide-1.png" /><meta name="twitter:image:alt" content="My Rust development environment with Neovim" /><meta property="twitter:title" content="Rust and Neovim - A Thorough Guide and Walkthrough" /><meta name="twitter:site" content="@_rsdlt" /><meta name="twitter:creator" content="@rsdlt" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"rsdlt"},"dateModified":"2023-03-11T14:11:04-05:00","datePublished":"2022-08-15T05:45:00-04:00","description":"Edit: Some readers mentioned an issue with the example Lua code used to configure the simrat39/rust-tools.nvim plugin; that configuration code has been updated with the example configuration recommended in the plugin page as of the date of this edit. Thanks to Nazar Toakarak for letting me know. Readers have also asked me about the link to my latest Neovim config files, you can find them here.","headline":"Rust and Neovim - A Thorough Guide and Walkthrough","image":{"width":2329,"height":1215,"alt":"My Rust development environment with Neovim","url":"https://rsdlt.github.io/assets/img/nvim-rust-development/rsdlt-rust-ide-1.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rsdlt.github.io/posts/rust-nvim-ide-guide-walkthrough-development-debug/"},"url":"https://rsdlt.github.io/posts/rust-nvim-ide-guide-walkthrough-development-debug/"}</script><title>Rust and Neovim - A Thorough Guide and Walkthrough | the trait</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="the trait"><meta name="application-name" content="the trait"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/rsdlt_bw.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">the trait</a></div><div class="site-subtitle font-italic">Rodrigo Santiago</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/rsdlt" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['rsdlt','pm.me'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/rsdlt/" aria-label="linkedin" > <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Rust and Neovim - A Thorough Guide and Walkthrough</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Rust and Neovim - A Thorough Guide and Walkthrough</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1660556700" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 15, 2022 </em> </span> <span> Updated <em class="" data-ts="1678561864" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Mar 11, 2023 </em> </span><div class="mt-3 mb-3"> <a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-1.png" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-1.png" alt="My Rust development environment with Neovim" width="1200" height="630" class="lazyload" data-proofer-ignore></a><figcaption class="text-center pt-2 pb-2">My Rust development environment with Neovim</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3276 words"> <em>18 min</em> read</span></div></div></div><div class="post-content"><blockquote class="prompt-info"><p><strong>Edit:</strong> Some readers mentioned an issue with the example Lua code used to configure the <a href="https://www.github.com/simrat39/rust-tools.nvim">simrat39/rust-tools.nvim</a> plugin; that configuration code has been updated with the <a href="https://github.com/simrat39/rust-tools.nvim#setup">example configuration</a> recommended in the plugin page as of the date of this edit. Thanks to <a href="https://github.com/Tokarak">Nazar Toakarak</a> for letting me know. <br />Readers have also asked me about the link to my latest Neovim config files, you can find them <a href="https://github.com/rsdlt/nvim-config-files">here</a>.</p></blockquote><p>This post is a detailed explanation and walkthrough of how I set up my Rust development environment and workflow with Neovim.</p><h2 id="prerequisites"><span class="mr-2">Prerequisites</span><a href="#prerequisites" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Have the following installed:<ul><li><a href="https://www.rust-lang.org/learn/get-started">Rust</a>.<li><a href="https://github.com/neovim/neovim/wiki/Installing-Neovim">Neovim v0.7.0+</a>.<li>A Neovim package manager, like <a href="https://www.github.com/wbthomason/packer.nvim">wbthomason/packer.nvim</a>.</ul><li>Have basic knowledge about Neovim and <a href="https://www.lua.org/">Lua</a>:<ul><li>How to navigate with the keyboard.<li>How to install / remove plugins.<li>How to create and edit Lua config files.<li>Here is a great <a href="https://mattermost.com/blog/how-to-install-and-set-up-neovim-for-code-editing/">tutorial</a> that helped me with these basics.</ul></ul><h2 id="why-neovim"><span class="mr-2">Why Neovim</span><a href="#why-neovim" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Like many developers, I went through a phase of looking for the <em>ideal</em> development set of tools that would be convenient and enjoyable, but most of all, that would <em>boost</em> my productivity.</p><p>After extensively trying many text editors and IDEs, I have decided to give <a href="https://neovim.io/">Neovim</a> a serious shot and invest time and effort in learning and customizing it heavily.</p><p>I have to say, it was no easy feat… But it is also a great experience!</p><p>Neovim is a very sophisticated tool that is <em>extremely customizable</em> but carries a <em>steep learning curve</em>. However, once you’re past the basics and force yourself some <em>muscle memory</em> it is unbelievably fast. All the effort pays off massively.</p><p>I am, by no means, an <em>expert</em> user of Neovim, but with every keystroke I get faster and more productive.</p><p>And I think that is the key thing that makes Neovim a different beast: it <em>_forces_</em> you to change and adapt, and you actually <em>see and feel</em> yourself getting better and better!</p><p>Anyways, here are my Pros and Cons about Neovim…</p><p><strong>Pros:</strong></p><ul><li>Lighting fast.<li>Extremely configurable and customizable.<li>Massive ecosystem of plugins.<li>Cross-platform support.<li>Support for almost any programming language out there.<li>Forces productive habits upon you.<li>Abundant documentation and community support.<li>It is free and open source.</ul><p><strong>Cons:</strong></p><ul><li>Significant up-front time investment in learning.<li>Abundance of choice in customization options can be distracting.<li>Steep learning curve.<li>Demands commitment and patience in creating new muscle memory.</ul><h2 id="why-neovim-for-rust-development"><span class="mr-2">Why Neovim for Rust Development</span><a href="#why-neovim-for-rust-development" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Okay, the above points are all valid from a general point of view, but why is Neovim great <em>specifically</em> for a <code class="language-plaintext highlighter-rouge">Rust</code> development workflow? Here are my reasons:</p><ul><li>Neovim natively supports <a href="https://microsoft.github.io/language-server-protocol/">LSP</a> (Language Server Protocol) in versions 0.5+<li><a href="https://rust-analyzer.github.io/">rust-analyzer</a> is supported through Neovim’s LSP, which essentially give us:<ul><li>Code completion.<li>Some refactoring.<li>Code analysis and linting.<li>Go to definition.<li>Code actions.<li>Access to documentation.<li>Show and go to references.<li>Snippets support.<li>Better syntax highlighting.<li>Code formatting.</ul><li><a href="https://github.com/simrat39/rust-tools.nvim">rust-tools</a> is a fantastic plugin to setup <code class="language-plaintext highlighter-rouge">rust-analyzer</code> with Neovim’s LSP .<li>Integrated terminal.<li>Access to <a href="https://github.com/rust-lang/cargo/">Cargo</a> commands.<li><code class="language-plaintext highlighter-rouge">Rustfmt</code> On Save.<li>Rust debugging via:<ul><li><a href="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">CodeLLDB</a> debugger with<li><a href="https://puremourning.github.io/vimspector-web/">Vimspector</a> plugin, or<li><a href="https://github.com/mfussenegger/nvim-dap">nvim-DAP</a> (Debugger Adapter Protocol) plugin .</ul><li><a href="https://toml.io/en/">TOML</a> language support.</ul><p>In essence, we have <strong>all the functionality</strong> that is needed from an <code class="language-plaintext highlighter-rouge">IDE</code> to develop <code class="language-plaintext highlighter-rouge">Rust</code> with productivity.</p><p>Here are a couple screenshots using my current setup:</p><ul><li><a href="https://get.opensuse.org/tumbleweed/">openSUSE Tumbleweed</a> operating system.<li><a href="https://xfce.org/">XFCE</a> desktop environment.<li><a href="https://alacritty.org/">Alacritty</a> terminal.</ul><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-2.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2329 1215'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-2.png" alt="Rust development with Neovim and Vimspector" width="2329" height="1215" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Rust development with Neovim and Vimspector</em></p><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-3.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2329 1215'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-3.png" alt="Rust development with Neovim and voldikss/vim-floaterm float terminal plugin" width="2329" height="1215" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Rust development with Neovim and <a href="https://www.github.com/voldikss/vim-floaterm">voldikss/vim-floaterm</a> float terminal plugin</em></p><h2 id="set-up-rust-with-neovim"><span class="mr-2">Set Up Rust with Neovim</span><a href="#set-up-rust-with-neovim" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>To make things more digestible, here the major activities that what we are going to do:</p><p><a href="/assets/img/nvim-rust-development/mermaid-diagram-2022-08-15-182414.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 650 465'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/mermaid-diagram-2022-08-15-182414.png" alt="Rust and Neovim setup diagram - made with mermaid-hs" width="650" height="465" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Rust and Neovim Set Up Diagram - made with https://mermaid.live</em></p><p><br /> <br /></p><ol><li>Download and setup <code class="language-plaintext highlighter-rouge">rust-analyzer</code> and <code class="language-plaintext highlighter-rouge">codelldb</code> using Neovim’s plugins.<li>Attach Neovim to <code class="language-plaintext highlighter-rouge">rust-analyzer</code>.<li>Install Neovim’s <code class="language-plaintext highlighter-rouge">complete</code> and <code class="language-plaintext highlighter-rouge">snippets</code> plugins.<li>Install Neovim’s <code class="language-plaintext highlighter-rouge">tree-sitter</code> and set it up with <code class="language-plaintext highlighter-rouge">tree-sitter-rust</code> parser.<li>Set up <code class="language-plaintext highlighter-rouge">vimspector</code> to work with <code class="language-plaintext highlighter-rouge">codelldb</code> to debug Rust and Rust Tests.</ol><p>But before we go into the details, here is my Neovim <code class="language-plaintext highlighter-rouge">.config/nvim</code> folder so that the filenames below make sense:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="go">.config/nvim on  main [!] via 🌙 v5.4.4
 λ tree -L 2
</span><span class="c">.
</span><span class="go">├── init.lua
├── lua
│   ├── keys.lua
│   ├── opts.lua
│   ├── plug.lua
│   └── vars.lua
└── plugin
    └── packer_compiled.lua 
</span></pre></table></code></div></div><h3 id="1-download-rust-analyzer-and-codelldb-with-neovims-plugins"><span class="mr-2">1. Download rust-analyzer and CodeLLDB with Neovim’s plugins</span><a href="#1-download-rust-analyzer-and-codelldb-with-neovims-plugins" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The first Neovim plugin, other than Packer (the package manager), we need is Mason:</p><ul><li><a href="https://www.github.com/williamboman/mason.nvim">williamboman/mason.nvim</a> a plugin to install and manage LSP servers, debuggers and linters.<li><a href="https://www.github.com/williamboman/mason-lspconfig.nvim">williamboman/mason-lspconfig.nvim</a> to complement Manson with other goodies.</ul><p>Here is the Lua code to install these -and other- plugins using Packer:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/plug.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">return</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'packer'</span><span class="p">).</span><span class="n">startup</span><span class="p">(</span><span class="k">function</span><span class="p">()</span>
    <span class="c1">-- other plugins...</span>
    
    <span class="n">use</span> <span class="s1">'williamboman/mason.nvim'</span>    
    <span class="n">use</span> <span class="s1">'williamboman/mason-lspconfig.nvim'</span>
   
   <span class="c1">-- other plugins...</span>
<span class="k">end</span><span class="p">)</span>
</pre></table></code></div></div><p>Then we just save <code class="language-plaintext highlighter-rouge">:w</code>, reload <code class="language-plaintext highlighter-rouge">:luafile %</code> and install with <code class="language-plaintext highlighter-rouge">:PackerInstall</code>.</p><p>After Mason is installed, we need to set it up in our config file <code class="language-plaintext highlighter-rouge">init.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="c1">-- Mason Setup</span>
<span class="nb">require</span><span class="p">(</span><span class="s2">"mason"</span><span class="p">).</span><span class="n">setup</span><span class="p">({</span>
    <span class="n">ui</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">icons</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">package_installed</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
            <span class="n">package_pending</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
            <span class="n">package_uninstalled</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="nb">require</span><span class="p">(</span><span class="s2">"mason-lspconfig"</span><span class="p">).</span><span class="n">setup</span><span class="p">()</span>
</pre></table></code></div></div><p>Thanks to <a href="https://github.com/paytonrules">Eric Smith</a> for suggesting including Mason’s setup in this guide.</p><blockquote class="prompt-tip"><p>I could use other package managers to install plugins or LSPs, however, I prefer Packer and Mason because they are written entirely in Lua, are getting traction within the Neovim developer community, and they work great.</p></blockquote><p>Once Mason is installed and setup, we can use it to install and manage rust-analyzer and CodeLLDB:</p><p>On Neovim command mode we input <code class="language-plaintext highlighter-rouge">:MasonInstall rust-analyzer codelldb</code>.</p><p>When Manson finishes, we can check with <code class="language-plaintext highlighter-rouge">:Mason</code> that we have rust-analyzer and CodeLLDB installed.</p><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-4.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 890 281'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-4.png" alt="Installing rust-analyzer and CodeLLDB with Mason" width="890" height="281" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Mason installing rust-analyzer and CodeLLDB for Neovim</em></p><h3 id="2-attaching-neovim-to-rust-analyzer"><span class="mr-2">2. Attaching Neovim to rust-analyzer</span><a href="#2-attaching-neovim-to-rust-analyzer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Next, we continue by installing two essential plugins to attach rust-analyzer to Neovim’s LSP:</p><ul><li><a href="https://www.github.com/neovim/nvim-lspconfig">neovim/nvim-lspconfig</a> a collection of LSP configs.<li><a href="https://www.github.com/simrat39/rust-tools.nvim">simrat39/rust-tools.nvim</a> tools to automatically set up lspconfig for <a href="https://rust-analyzer.github.io/">rust-analyzer</a>.</ul><p>Here is the Lua code to install these packages using Packer:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/plug.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">return</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'packer'</span><span class="p">).</span><span class="n">startup</span><span class="p">(</span><span class="k">function</span><span class="p">()</span>
    <span class="c1">-- other plugins...</span>
    
    <span class="n">use</span> <span class="s1">'neovim/nvim-lspconfig'</span> 
    <span class="n">use</span> <span class="s1">'simrat39/rust-tools.nvim'</span>
    
    <span class="c1">-- other plugins...</span>
<span class="k">end</span><span class="p">)</span>
</pre></table></code></div></div><p>Now, we need to setup Neovim so that it can interact with rust-analyzer. We can use the code provided in the <a href="https://github.com/simrat39/rust-tools.nvim#setup">example config</a> recommended by the rust-tools.vim plugin:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/init.lua</code></p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">local</span> <span class="n">rt</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">"rust-tools"</span><span class="p">)</span>

<span class="n">rt</span><span class="p">.</span><span class="n">setup</span><span class="p">({</span>
  <span class="n">server</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">on_attach</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">bufnr</span><span class="p">)</span>
      <span class="c1">-- Hover actions</span>
      <span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">"n"</span><span class="p">,</span> <span class="s2">"&lt;C-space&gt;"</span><span class="p">,</span> <span class="n">rt</span><span class="p">.</span><span class="n">hover_actions</span><span class="p">.</span><span class="n">hover_actions</span><span class="p">,</span> <span class="p">{</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">bufnr</span> <span class="p">})</span>
      <span class="c1">-- Code action groups</span>
      <span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">"n"</span><span class="p">,</span> <span class="s2">"&lt;Leader&gt;a"</span><span class="p">,</span> <span class="n">rt</span><span class="p">.</span><span class="n">code_action_group</span><span class="p">.</span><span class="n">code_action_group</span><span class="p">,</span> <span class="p">{</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">bufnr</span> <span class="p">})</span>
    <span class="k">end</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">})</span>
</pre></table></code></div></div><p>Further customization options are available via rust-tools <a href="https://github.com/simrat39/rust-tools.nvim#configuration">configuration</a>.</p><p>However, I prefer to leave the defaults in rust-tools, and configure instead through <a href="https://neovim.io/doc/user/diagnostic.html">Neovim’s Diagnostics API</a>:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/init.lua</code></p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="c1">-- LSP Diagnostics Options Setup </span>
<span class="kd">local</span> <span class="n">sign</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">opts</span><span class="p">)</span>
  <span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">sign_define</span><span class="p">(</span><span class="n">opts</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="p">{</span>
    <span class="n">texthl</span> <span class="o">=</span> <span class="n">opts</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">opts</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
    <span class="n">numhl</span> <span class="o">=</span> <span class="s1">''</span>
  <span class="p">})</span>
<span class="k">end</span>

<span class="n">sign</span><span class="p">({</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'DiagnosticSignError'</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s1">''</span><span class="p">})</span>
<span class="n">sign</span><span class="p">({</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'DiagnosticSignWarn'</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s1">''</span><span class="p">})</span>
<span class="n">sign</span><span class="p">({</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'DiagnosticSignHint'</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s1">''</span><span class="p">})</span>
<span class="n">sign</span><span class="p">({</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'DiagnosticSignInfo'</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s1">''</span><span class="p">})</span>

<span class="n">vim</span><span class="p">.</span><span class="n">diagnostic</span><span class="p">.</span><span class="n">config</span><span class="p">({</span>
    <span class="n">virtual_text</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
    <span class="n">signs</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="n">update_in_insert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="n">underline</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="n">severity_sort</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
    <span class="n">float</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">border</span> <span class="o">=</span> <span class="s1">'rounded'</span><span class="p">,</span>
        <span class="n">source</span> <span class="o">=</span> <span class="s1">'always'</span><span class="p">,</span>
        <span class="n">header</span> <span class="o">=</span> <span class="s1">''</span><span class="p">,</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s1">''</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">})</span>

<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s">[[
set signcolumn=yes
autocmd CursorHold * lua vim.diagnostic.open_float(nil, { focusable = false })
]]</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="3-install-the-complete-and-snippets-plugins-suite"><span class="mr-2">3. Install the Complete and Snippets plugins’ suite:</span><a href="#3-install-the-complete-and-snippets-plugins-suite" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The following set of plugins allow us to query Neovim’s LSPs, and other sources, to present the auto-complete drop-down menu while typing code.</p><p>Thanks to these plugins, and because we have already attached rust-analyzer to Neovim’s LSP, we will be able to get nice IDE-like auto-completion when we work on a Cargo project:</p><ul><li><a href="https://www.github.com/hrsh7th/cmp-buffer">hrsh7th/cmp-buffer</a><li><a href="https://www.github.com/hrsh7th/cmp-nvim-lsp">hrsh7th/cmp-nvim-lsp</a><li><a href="https://www.github.com/hrsh7th/cmp-nvim-lsp-signature-help">hrsh7th/cmp-nvim-lsp-signature-help</a><li><a href="https://www.github.com/hrsh7th/cmp-nvim-lua">hrsh7th/cmp-nvim-lua</a><li><a href="https://www.github.com/hrsh7th/cmp-path">hrsh7th/cmp-path</a><li><a href="https://www.github.com/hrsh7th/cmp-vsnip">hrsh7th/cmp-vsnip</a><li><a href="https://www.github.com/hrsh7th/nvim-cmp">hrsh7th/nvim-cmp</a><li><a href="https://www.github.com/hrsh7th/vim-vsnip">hrsh7th/vim-vsnip</a></ul><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/plug.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="k">return</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'packer'</span><span class="p">).</span><span class="n">startup</span><span class="p">(</span><span class="k">function</span><span class="p">()</span>
    <span class="c1">-- other plugins...</span>

    <span class="c1">-- Completion framework:</span>
    <span class="n">use</span> <span class="s1">'hrsh7th/nvim-cmp'</span> 

    <span class="c1">-- LSP completion source:</span>
    <span class="n">use</span> <span class="s1">'hrsh7th/cmp-nvim-lsp'</span>

    <span class="c1">-- Useful completion sources:</span>
    <span class="n">use</span> <span class="s1">'hrsh7th/cmp-nvim-lua'</span>
    <span class="n">use</span> <span class="s1">'hrsh7th/cmp-nvim-lsp-signature-help'</span>
    <span class="n">use</span> <span class="s1">'hrsh7th/cmp-vsnip'</span>                             
    <span class="n">use</span> <span class="s1">'hrsh7th/cmp-path'</span>                              
    <span class="n">use</span> <span class="s1">'hrsh7th/cmp-buffer'</span>                            
    <span class="n">use</span> <span class="s1">'hrsh7th/vim-vsnip'</span>                             
    
    <span class="c1">-- other plugins...</span>
<span class="k">end</span><span class="p">)</span>
</pre></table></code></div></div><p>And now, we need to set them up in our configuration files:</p><p>First in our Neovim APIs:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/opts.lua</code></p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>
<span class="c1">--Set completeopt to have a better completion experience</span>
<span class="c1">-- :help completeopt</span>
<span class="c1">-- menuone: popup even when there's only one match</span>
<span class="c1">-- noinsert: Do not insert text until a selection is made</span>
<span class="c1">-- noselect: Do not select, force to select one from the menu</span>
<span class="c1">-- shortness: avoid showing extra messages when using completion</span>
<span class="c1">-- updatetime: set updatetime for CursorHold</span>
<span class="n">vim</span><span class="p">.</span><span class="n">opt</span><span class="p">.</span><span class="n">completeopt</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'menuone'</span><span class="p">,</span> <span class="s1">'noselect'</span><span class="p">,</span> <span class="s1">'noinsert'</span><span class="p">}</span>
<span class="n">vim</span><span class="p">.</span><span class="n">opt</span><span class="p">.</span><span class="n">shortmess</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">opt</span><span class="p">.</span><span class="n">shortmess</span> <span class="o">+</span> <span class="p">{</span> <span class="n">c</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}</span>
<span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_set_option</span><span class="p">(</span><span class="s1">'updatetime'</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span> 

<span class="c1">-- Fixed column for diagnostics to appear</span>
<span class="c1">-- Show autodiagnostic popup on cursor hover_range</span>
<span class="c1">-- Goto previous / next diagnostic warning / error </span>
<span class="c1">-- Show inlay_hints more frequently </span>
<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s">[[
set signcolumn=yes
autocmd CursorHold * lua vim.diagnostic.open_float(nil, { focusable = false })
]]</span><span class="p">)</span>

</pre></table></code></div></div><p>And then in our completion plugins:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/init.lua</code></p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre><td class="rouge-code"><pre><span class="c1">-- Completion Plugin Setup</span>
<span class="kd">local</span> <span class="n">cmp</span> <span class="o">=</span> <span class="nb">require</span><span class="s1">'cmp'</span>
<span class="n">cmp</span><span class="p">.</span><span class="n">setup</span><span class="p">({</span>
  <span class="c1">-- Enable LSP snippets</span>
  <span class="n">snippet</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">expand</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">[</span><span class="s2">"vsnip#anonymous"</span><span class="p">](</span><span class="n">args</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
    <span class="k">end</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">[</span><span class="s1">'&lt;C-p&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_prev_item</span><span class="p">(),</span>
    <span class="p">[</span><span class="s1">'&lt;C-n&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_next_item</span><span class="p">(),</span>
    <span class="c1">-- Add tab support</span>
    <span class="p">[</span><span class="s1">'&lt;S-Tab&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_prev_item</span><span class="p">(),</span>
    <span class="p">[</span><span class="s1">'&lt;Tab&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_next_item</span><span class="p">(),</span>
    <span class="p">[</span><span class="s1">'&lt;C-S-f&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">scroll_docs</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">),</span>
    <span class="p">[</span><span class="s1">'&lt;C-f&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">scroll_docs</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
    <span class="p">[</span><span class="s1">'&lt;C-Space&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">complete</span><span class="p">(),</span>
    <span class="p">[</span><span class="s1">'&lt;C-e&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">close</span><span class="p">(),</span>
    <span class="p">[</span><span class="s1">'&lt;CR&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">confirm</span><span class="p">({</span>
      <span class="n">behavior</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">ConfirmBehavior</span><span class="p">.</span><span class="n">Insert</span><span class="p">,</span>
      <span class="nb">select</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="c1">-- Installed sources:</span>
  <span class="n">sources</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'path'</span> <span class="p">},</span>                              <span class="c1">-- file paths</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'nvim_lsp'</span><span class="p">,</span> <span class="n">keyword_length</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">},</span>      <span class="c1">-- from language server</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'nvim_lsp_signature_help'</span><span class="p">},</span>            <span class="c1">-- display function signatures with current parameter emphasized</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'nvim_lua'</span><span class="p">,</span> <span class="n">keyword_length</span> <span class="o">=</span> <span class="mi">2</span><span class="p">},</span>       <span class="c1">-- complete neovim's Lua runtime API such vim.lsp.*</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'buffer'</span><span class="p">,</span> <span class="n">keyword_length</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">},</span>        <span class="c1">-- source current buffer</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'vsnip'</span><span class="p">,</span> <span class="n">keyword_length</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">},</span>         <span class="c1">-- nvim-cmp source for vim-vsnip </span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'calc'</span><span class="p">},</span>                               <span class="c1">-- source for math calculation</span>
  <span class="p">},</span>
  <span class="n">window</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">completion</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">bordered</span><span class="p">(),</span>
      <span class="n">documentation</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">bordered</span><span class="p">(),</span>
  <span class="p">},</span>
  <span class="n">formatting</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'menu'</span><span class="p">,</span> <span class="s1">'abbr'</span><span class="p">,</span> <span class="s1">'kind'</span><span class="p">},</span>
      <span class="n">format</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
          <span class="kd">local</span> <span class="n">menu_icon</span> <span class="o">=</span><span class="p">{</span>
              <span class="n">nvim_lsp</span> <span class="o">=</span> <span class="s1">'λ'</span><span class="p">,</span>
              <span class="n">vsnip</span> <span class="o">=</span> <span class="s1">'⋗'</span><span class="p">,</span>
              <span class="n">buffer</span> <span class="o">=</span> <span class="s1">'Ω'</span><span class="p">,</span>
              <span class="n">path</span> <span class="o">=</span> <span class="s1">'🖫'</span><span class="p">,</span>
          <span class="p">}</span>
          <span class="n">item</span><span class="p">.</span><span class="n">menu</span> <span class="o">=</span> <span class="n">menu_icon</span><span class="p">[</span><span class="n">entry</span><span class="p">.</span><span class="n">source</span><span class="p">.</span><span class="n">name</span><span class="p">]</span>
          <span class="k">return</span> <span class="n">item</span>
      <span class="k">end</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">})</span>
</pre></table></code></div></div><p>With this setup we are now able to have real-time completion capabilities sourcing from <code class="language-plaintext highlighter-rouge">rust-analyzer</code> and we can review the associated documentation that pops up:</p><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-5.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1665 804'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-5.png" alt="rust-analyzer sourced for real-time completion in Neovim" width="1665" height="804" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Rust real-time completion in Neovim</em></p><h3 id="4-install-tree-sitter-and-set-it-up-with-the-tree-sitter-rust-parser"><span class="mr-2">4. Install Tree-sitter and set it up with the tree-sitter-rust parser</span><a href="#4-install-tree-sitter-and-set-it-up-with-the-tree-sitter-rust-parser" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://tree-sitter.github.io/tree-sitter/">Tree-sitter</a> is a fantastic parser generation and incremental parsing library, that supports Rust language bindings and has an available parser Rust <a href="https://github.com/tree-sitter/tree-sitter-rust">tree-sitter-rust</a>.</p><blockquote class="prompt-warning"><p>Neovim’s support of Tree-sitter is, at the time of this post, <a href="https://neovim.io/doc/treesitter/">experimental</a> and should be treated as such; however, I have found no issues so far with my setup.</p></blockquote><p>First we need to insall the <a href="https://www.github.com/nvim-treesitter/nvim-treesitter">nvim-treesitter/nvim-treesitter</a> plugin:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/plug.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">return</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'packer'</span><span class="p">).</span><span class="n">startup</span><span class="p">(</span><span class="k">function</span><span class="p">()</span>
    <span class="c1">-- other plugins...</span>

    <span class="n">use</span> <span class="s1">'nvim-treesitter/nvim-treesitter'</span>

    <span class="c1">-- other plugins...</span>
<span class="k">end</span><span class="p">)</span>
</pre></table></code></div></div><p>And then configure it… <code class="language-plaintext highlighter-rouge">.config/nvim/init.lua</code></p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="c1">-- Treesitter Plugin Setup </span>
<span class="nb">require</span><span class="p">(</span><span class="s1">'nvim-treesitter.configs'</span><span class="p">).</span><span class="n">setup</span> <span class="p">{</span>
  <span class="n">ensure_installed</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"lua"</span><span class="p">,</span> <span class="s2">"rust"</span><span class="p">,</span> <span class="s2">"toml"</span> <span class="p">},</span>
  <span class="n">auto_install</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
  <span class="n">highlight</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="n">additional_vim_regex_highlighting</span><span class="o">=</span><span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="n">ident</span> <span class="o">=</span> <span class="p">{</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">},</span> 
  <span class="n">rainbow</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="n">extended_mode</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="n">max_file_lines</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>

</pre></table></code></div></div><p>We need to be sure that the <code class="language-plaintext highlighter-rouge">ensure_installed = {... "rust", "toml" ...}</code> variable is part of the setup function and that <code class="language-plaintext highlighter-rouge">"rust"</code> and <code class="language-plaintext highlighter-rouge">"toml"</code> languages are included…</p><p><code class="language-plaintext highlighter-rouge">nvim-treesitter</code> allows us to install the <a href="https://github.com/tree-sitter/tree-sitter-rust">tree-sitter-rust</a> parser, effectively enabling all the benefits of Tree-sitter for Rust in Neovim!</p><p>We can also check the status of our parsers with <code class="language-plaintext highlighter-rouge">:TSInstallInfo</code> and update them with <code class="language-plaintext highlighter-rouge">:TSUpdate</code> on the command prompt.</p><p><code class="language-plaintext highlighter-rouge">nvim-treesitter</code> also provides a nice view of our parsers with the <code class="language-plaintext highlighter-rouge">:checkhealth</code> command and the specific support (e.g. Highlights, Folds, etc.) for each language:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="go">nvim-treesitter: require("nvim-treesitter.health").check()
========================================================================
</span><span class="gp">#</span><span class="c"># Installation</span>
<span class="go">  - WARNING: `tree-sitter` executable not found (parser generator, only needed for :TSInstallFromGrammar, not required for :TSInstall)
  - OK: `node` found v17.7.1 (only needed for :TSInstallFromGrammar)
  - OK: `git` executable found.
  - OK: `cc` executable found. Selected from { vim.NIL, "cc", "gcc", "clang", "cl", "zig" }
    Version: cc (SUSE Linux) 12.1.1 20220721 [revision 4f15d2234608e82159d030dadb17af678cfad626]
</span><span class="gp">  - OK: Neovim was compiled with tree-sitter runtime ABI version 14 (required &gt;</span><span class="o">=</span>13<span class="o">)</span><span class="nb">.</span> Parsers must be compatible with runtime ABI.
<span class="go">
</span><span class="gp">#</span><span class="c"># Parser/Features H L F I J</span>
<span class="go">  - toml           ✓ ✓ ✓ ✓ ✓
  - lua            ✓ ✓ ✓ ✓ ✓
  - rust           ✓ ✓ ✓ ✓ ✓

  Legend: H[ighlight], L[ocals], F[olds], I[ndents], In[j]ections
         +) multiple parsers found, only one will be used
         x) errors found in the query, try to run :TSUpdate {lang}
</span></pre></table></code></div></div><p>And we can customize as we please.</p><p>In my case, I am connecting the folding API in Neovim to the Tree-sitters folding functions:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/opts.lua</code></p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1">-- Treesitter folding </span>
<span class="n">vim</span><span class="p">.</span><span class="n">wo</span><span class="p">.</span><span class="n">foldmethod</span> <span class="o">=</span> <span class="s1">'expr'</span>
<span class="n">vim</span><span class="p">.</span><span class="n">wo</span><span class="p">.</span><span class="n">foldexpr</span> <span class="o">=</span> <span class="s1">'nvim_treesitter#foldexpr()'</span>
</pre></table></code></div></div><p>And here is the result of my Rust code being folded in Neovim using Tree-sitter:</p><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-6.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 625 663'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-6.png" alt="Rust code folding in Neovim using Tree-sitter" width="625" height="663" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Rust code folding in Neovim using Tree-sitter</em></p><h3 id="5-set-up-vimspector-and-codelldb-to-debug-rust-and-rust-tests"><span class="mr-2">5. Set up Vimspector and CodeLLDB to debug Rust and Rust Tests</span><a href="#5-set-up-vimspector-and-codelldb-to-debug-rust-and-rust-tests" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Okay, now comes one of the most important features of any IDE: having a debugger a couple of clicks away to troubleshoot your code.</p><p>As of today, my preferred method is to use the <a href="https://puremourning.github.io/vimspector-web/">Vimspector</a> plugin with <a href="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">CodeLLDB</a>.</p><blockquote class="prompt-tip"><p>There is also the alternative to use <a href="https://github.com/mfussenegger/nvim-dap">nvim-DAP</a> instead of Vimspector. It looks like a fantastic initiative that is getting traction, but I still have not enabled it in my workflow. Definitely worth a look!</p></blockquote><p>Remember that we already installed CodeLLDB via Mason, so now we just need to install the Vimspector plugin:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/plug.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">return</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'packer'</span><span class="p">).</span><span class="n">startup</span><span class="p">(</span><span class="k">function</span><span class="p">()</span>
    <span class="c1">-- other plugins...</span>

    <span class="n">use</span> <span class="s1">'puremourning/vimspector'</span>

    <span class="c1">-- other plugins...</span>
<span class="k">end</span><span class="p">)</span>
</pre></table></code></div></div><p>Second, we can configure Vimspector UI and keymap options to our liking:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/opts.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1">-- Vimspector options</span>
<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s">[[
let g:vimspector_sidebar_width = 85
let g:vimspector_bottombar_height = 15
let g:vimspector_terminal_maxwidth = 70
]]</span><span class="p">)</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/keys.lua</code></p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="c1">-- Vimspector</span>
<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s">[[
nmap &lt;F9&gt; &lt;cmd&gt;call vimspector#Launch()&lt;cr&gt;
nmap &lt;F5&gt; &lt;cmd&gt;call vimspector#StepOver()&lt;cr&gt;
nmap &lt;F8&gt; &lt;cmd&gt;call vimspector#Reset()&lt;cr&gt;
nmap &lt;F11&gt; &lt;cmd&gt;call vimspector#StepOver()&lt;cr&gt;")
nmap &lt;F12&gt; &lt;cmd&gt;call vimspector#StepOut()&lt;cr&gt;")
nmap &lt;F10&gt; &lt;cmd&gt;call vimspector#StepInto()&lt;cr&gt;")
]]</span><span class="p">)</span>
<span class="n">map</span><span class="p">(</span><span class="s1">'n'</span><span class="p">,</span> <span class="s2">"Db"</span><span class="p">,</span> <span class="s2">":call vimspector#ToggleBreakpoint()&lt;cr&gt;"</span><span class="p">)</span>
<span class="n">map</span><span class="p">(</span><span class="s1">'n'</span><span class="p">,</span> <span class="s2">"Dw"</span><span class="p">,</span> <span class="s2">":call vimspector#AddWatch()&lt;cr&gt;"</span><span class="p">)</span>
<span class="n">map</span><span class="p">(</span><span class="s1">'n'</span><span class="p">,</span> <span class="s2">"De"</span><span class="p">,</span> <span class="s2">":call vimspector#Evaluate()&lt;cr&gt;"</span><span class="p">)</span>

</pre></table></code></div></div><p>And finally, the tricky part:</p><ol><li>Compile our Rust project with <code class="language-plaintext highlighter-rouge">cargo build</code>, <code class="language-plaintext highlighter-rouge">cargo run</code>, <code class="language-plaintext highlighter-rouge">cargo test</code>, so that we can produce a binary.<li>Create a <code class="language-plaintext highlighter-rouge">.vimspector.json</code> file at the root of your Cargo directory.<li>Attach CodeLLDB and your Rust application binary to Vimspector in the <code class="language-plaintext highlighter-rouge">.vimspector.json</code> file.<li>Create a debugger breakpoint in your code with <code class="language-plaintext highlighter-rouge">:call vimspector#ToggleBreakpoint()</code>.<li>Launch Vimspector and start debugging with <code class="language-plaintext highlighter-rouge">:call vimspector#Launch()</code>.</ol><p><code class="language-plaintext highlighter-rouge">app/.vimspector.json</code></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"launch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"adapter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CodeLLDB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filetypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"rust"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nl">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceRoot}/target/debug/app"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>And, if everything went well we should be greeted by a new debugging session of our Rust code in Neovim.</p><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-8.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2079 1080'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-8.png" alt="Rust debugging in Neovim with Vimspector and CodeLLDB" width="2079" height="1080" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Rust debugging in Neovim with Vimspector and CodeLLDB</em></p><p>If we want to debug Rust Tests we need to:</p><ol><li>Compile the test with <code class="language-plaintext highlighter-rouge">cargo test</code>.<li>Locate the binary produced and printed by the <code class="language-plaintext highlighter-rouge">cargo test</code> command (<code class="language-plaintext highlighter-rouge">target/debug/deps/app-0683da2c6affeec0</code> in the example below).<li>Update <code class="language-plaintext highlighter-rouge">.vimspector.json</code> to attach the test binary to the debugging session.<li>Set a breakpoint inside our test scope and launch Vimspector.</ol><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="go"> λ cargo test
   Compiling app v0.1.0 (/home/rsdlt/Documents/RustProjects/app)
    Finished test [unoptimized + debuginfo] target(s) in 0.26s
     Running unittests src/main.rs (target/debug/deps/app-0683da2c6affeec0)

running 2 tests
test tests::first_test ... ok
test tests::test_persona ... ok

</span><span class="gp">test result: ok. 2 passed;</span><span class="w"> </span>0 failed<span class="p">;</span> 0 ignored<span class="p">;</span> 0 measured<span class="p">;</span> 0 filtered out<span class="p">;</span> finished <span class="k">in </span>0.00s
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">app/.vimspector.json</code></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"launch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"adapter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CodeLLDB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filetypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"rust"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nl">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceRoot}/target/debug/deps/app-0683da2c6affeec0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>And again, if everything is properly configured we are greeted with a debugging session of a Rust Test:</p><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-9.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2079 1080'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-9.png" alt="Rust debugging a test in Neovim with Vimspector and CodeLLDB" width="2079" height="1080" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Debugging a Rust Test in Neovim with Vimspector and CodeLLDB</em></p><p>Phew, the hard part is over…</p><h2 id="cargo-power-with-terminal-access"><span class="mr-2">Cargo Power with Terminal Access</span><a href="#cargo-power-with-terminal-access" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>One of my favorite plugins in Neovim is <a href="https://www.github.com/voldikss/vim-floaterm">voldikss/vim-floaterm</a>. I just love the capability to hit a keystroke and have a terminal prompt pop-up right in front of me to input a fast command and then return to my code just as quickly…</p><p>In Rust development I mainly use the terminal to execute <code class="language-plaintext highlighter-rouge">Cargo</code> commands like <code class="language-plaintext highlighter-rouge">cargo run</code>, <code class="language-plaintext highlighter-rouge">cargo build</code>, <code class="language-plaintext highlighter-rouge">cargo check</code> and <code class="language-plaintext highlighter-rouge">cargo test</code>, among others.</p><p>To install this plugin:</p><p><code class="language-plaintext highlighter-rouge">.config/nvim/lua/plug.lua</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">return</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'packer'</span><span class="p">).</span><span class="n">startup</span><span class="p">(</span><span class="k">function</span><span class="p">()</span>
    <span class="c1">-- other plugins...</span>

    <span class="n">use</span> <span class="s1">'voldikss/vim-floaterm'</span>

    <span class="c1">-- other plugins...</span>
<span class="k">end</span><span class="p">)</span>
</pre></table></code></div></div><p>And I have it configured so that I can toggle the terminal pop-up by just pressing <code class="language-plaintext highlighter-rouge">t</code> after creating a session with <code class="language-plaintext highlighter-rouge">&lt;leader&gt;ft</code>:</p><div class="language-lua highlighter-rouge"><div class="code-header"> <span data-label-text="Lua"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1">-- FloaTerm configuration</span>
<span class="n">map</span><span class="p">(</span><span class="s1">'n'</span><span class="p">,</span> <span class="s2">"&lt;leader&gt;ft"</span><span class="p">,</span> <span class="s2">":FloatermNew --name=myfloat --height=0.8 --width=0.7 --autoclose=2 fish &lt;CR&gt; "</span><span class="p">)</span>
<span class="n">map</span><span class="p">(</span><span class="s1">'n'</span><span class="p">,</span> <span class="s2">"t"</span><span class="p">,</span> <span class="s2">":FloatermToggle myfloat&lt;CR&gt;"</span><span class="p">)</span>
<span class="n">map</span><span class="p">(</span><span class="s1">'t'</span><span class="p">,</span> <span class="s2">"&lt;Esc&gt;"</span><span class="p">,</span> <span class="s2">"&lt;C-\\&gt;&lt;C-n&gt;:q&lt;CR&gt;"</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="searching-at-the-speed-of-rust"><span class="mr-2">Searching at the Speed of Rust</span><a href="#searching-at-the-speed-of-rust" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Rust is fast, and so should be getting anywhere in our code.</p><p>There are countless plugins and solutions to find and jump within a project. However, in my experience these two plugins are the most essential:</p><ul><li><a href="https://www.github.com/nvim-telescope/telescope.nvim">nvim-telescope/telescope.nvim</a><li><a href="https://www.github.com/phaazon/hop.nvim">phaazon/hop.nvim</a></ul><p>Telescope can leverage other plugins like <a href="https://www.github.com/BurntSushi/ripgrep">BurntSushi/ripgrep</a> and <a href="https://www.github.com/sharkdp/fd">sharkdp/fd</a></p><p>Hop is unbelievably joyful, fun and effective to use.</p><h2 id="project-status"><span class="mr-2">Project status</span><a href="#project-status" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I mainly use four plugins to keep my project nice and tidy:</p><ul><li><a href="https://www.github.com/kyazdani42/nvim-tree.lua">kyazdani42/nvim-tree.lua</a> for the typical file explorer - but with the added benefit of displaying Git file status.<li><a href="https://www.github.com/preservim/tagbar">preservim/tagbar</a> for an overview of my project structure to quickly see my Structures, Traits, Functions, etc.<li><a href="https://www.github.com/folke/todo-comments.nvim">folke/todo-comments.nvim</a> to neatly consolidate <code class="language-plaintext highlighter-rouge">TODOs</code>, <code class="language-plaintext highlighter-rouge">FIXMEs</code>, etc.<li><a href="https://www.github.com/folke/trouble.nvim">folke/trouble.nvim</a> to show in a single panel my <code class="language-plaintext highlighter-rouge">rust-analyzer</code> errors and warnings.</ul><p>And of course, with just one keystroke we can toggle on / off each of these features really fast…</p><p><a href="/assets/img/nvim-rust-development/rsdlt-rust-ide-10.png" class="popup img-link shadow shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2079 1080'%3E%3C/svg%3E" data-src="/assets/img/nvim-rust-development/rsdlt-rust-ide-10.png" alt="Rust IDE-like features in Neovim" width="2079" height="1080" style="max-width: 90%" class="lazyload" data-proofer-ignore></a> <em>Rust in Neovim with File Explorer, Tagbar, TODOs and Trouble</em></p><h2 id="better-coding-experience"><span class="mr-2">Better Coding Experience</span><a href="#better-coding-experience" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Other plugins that I use that make my coding experience more enjoyable are:</p><ul><li><a href="https://www.github.com/lukas-reineke/indent-blankline.nvim">lukas-reineke/indent-blankline.nvim</a> to show and customize ident lines.<li><a href="https://www.github.com/windwp/nvim-autopairs">windwp/nvim-autopairs</a> for smart pairing of brackets.<li><a href="https://www.github.com/tpope/vim-surround">tpope/vim-surround</a> to quickly add, remove or change brackets surrounding any text.<li><a href="https://www.github.com/RRethy/vim-illuminate">RRethy/vim-illuminate</a> to highlight other uses of word under cursor.<li><a href="https://www.github.com/numToStr/Comment.nvim">numToStr/Comment.nvim</a> to quickly comment / uncomment text.</ul><h2 id="nice-look--feel"><span class="mr-2">Nice Look &amp; Feel</span><a href="#nice-look--feel" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>And last, but not least, we can make Neovim look awesome with just a few plugins and tweaks:</p><ul><li><a href="https://www.github.com/m-demare/hlargs.nvim">m-demare/hlargs.nvim</a> to leverage Tree-sitter and highlight argument definitions.<li><a href="https://www.github.com/danilamihailov/beacon.nvim">danilamihailov/beacon.nvim</a> to highlight our prompt when we jump from one location to another.<li><a href="https://www.github.com/tanvirtin/monokai.nvim">tanvirtin/monokai.nvim</a> an awesome color theme (used in the screenshots of this post).<li><a href="https://www.github.com/navarasu/onedark.nvim">navarasu/onedark.nvim</a> another great and popular color theme.<li><a href="https://www.github.com/kyazdani42/nvim-web-devicons">kyazdani42/nvim-web-devicons</a> for cool icons in the file explorer and other places.<li><a href="https://www.github.com/lewis6991/impatient.nvim">lewis6991/impatient.nvim</a> to make Neovim even faster.</ul><hr /><p><strong><em>Links, references and disclaimers:</em></strong></p><p>Here is the full list of all the Neovim plugins I use as of the date of this post. The credit, and my gratitude, goes to all the hardworking developers that make these awesome open source tools:</p><p><strong>Neovim Plugins:</strong> (In alphabetical order)</p><ul><li><a href="https://www.github.com/BurntSushi/ripgrep">BurntSushi/ripgrep</a><li><a href="https://www.github.com/danilamihailov/beacon.nvim">danilamihailov/beacon.nvim</a><li><a href="https://www.github.com/folke/todo-comments.nvim">folke/todo-comments.nvim</a><li><a href="https://www.github.com/folke/trouble.nvim">folke/trouble.nvim</a><li><a href="https://www.github.com/goolord/alpha-nvim">goolord/alpha-nvim</a><li><a href="https://www.github.com/hrsh7th/cmp-buffer">hrsh7th/cmp-buffer</a><li><a href="https://www.github.com/hrsh7th/cmp-nvim-lsp">hrsh7th/cmp-nvim-lsp</a><li><a href="https://www.github.com/hrsh7th/cmp-nvim-lsp-signature-help">hrsh7th/cmp-nvim-lsp-signature-help</a><li><a href="https://www.github.com/hrsh7th/cmp-nvim-lua">hrsh7th/cmp-nvim-lua</a><li><a href="https://www.github.com/hrsh7th/cmp-path">hrsh7th/cmp-path</a><li><a href="https://www.github.com/hrsh7th/cmp-vsnip">hrsh7th/cmp-vsnip</a><li><a href="https://www.github.com/hrsh7th/nvim-cmp">hrsh7th/nvim-cmp</a><li><a href="https://www.github.com/hrsh7th/vim-vsnip">hrsh7th/vim-vsnip</a><li><a href="https://www.github.com/kyazdani42/nvim-tree.lua">kyazdani42/nvim-tree.lua</a><li><a href="https://www.github.com/kyazdani42/nvim-web-devicons">kyazdani42/nvim-web-devicons</a><li><a href="https://www.github.com/lewis6991/impatient.nvim">lewis6991/impatient.nvim</a><li><a href="https://www.github.com/lukas-reineke/indent-blankline.nvim">lukas-reineke/indent-blankline.nvim</a><li><a href="https://www.github.com/m-demare/hlargs.nvim">m-demare/hlargs.nvim</a><li><a href="https://www.github.com/mfussenegger/nvim-dap">mfussenegger/nvim-dap</a><li><a href="https://www.github.com/navarasu/onedark.nvim">navarasu/onedark.nvim</a><li><a href="https://www.github.com/neovim/nvim-lspconfig">neovim/nvim-lspconfig</a><li><a href="https://www.github.com/numToStr/Comment.nvim">numToStr/Comment.nvim</a><li><a href="https://www.github.com/nvim-lua/plenary.nvim">nvim-lua/plenary.nvim</a><li><a href="https://www.github.com/nvim-lua/popup.nvim">nvim-lua/popup.nvim</a><li><a href="https://www.github.com/nvim-lualine/lualine.nvim">nvim-lualine/lualine.nvim</a><li><a href="https://www.github.com/nvim-telescope/telescope.nvim">nvim-telescope/telescope.nvim</a><li><a href="https://www.github.com/nvim-telescope/telescope-fzf-native.nvim">nvim-telescope/telescope-fzf-native.nvim</a><li><a href="https://www.github.com/nvim-treesitter/nvim-treesitter">nvim-treesitter/nvim-treesitter</a><li><a href="https://www.github.com/phaazon/hop.nvim">phaazon/hop.nvim</a><li><a href="https://www.github.com/preservim/tagbar">preservim/tagbar</a><li><a href="https://www.github.com/puremourning/vimspector">puremourning/vimspector</a><li><a href="https://www.github.com/RRethy/vim-illuminate">RRethy/vim-illuminate</a><li><a href="https://www.github.com/sharkdp/fd">sharkdp/fd</a><li><a href="https://www.github.com/simrat39/rust-tools.nvim">simrat39/rust-tools.nvim</a><li><a href="https://www.github.com/tanvirtin/monokai.nvim">tanvirtin/monokai.nvim</a><li><a href="https://www.github.com/tpope/vim-surround">tpope/vim-surround</a><li><a href="https://www.github.com/voldikss/vim-floaterm">voldikss/vim-floaterm</a><li><a href="https://www.github.com/wbthomason/packer.nvim">wbthomason/packer.nvim</a><li><a href="https://www.github.com/williamboman/mason.nvim">williamboman/mason.nvim</a><li><a href="https://www.github.com/williamboman/mason-lspconfig.nvim">williamboman/mason-lspconfig.nvim</a><li><a href="https://www.github.com/windwp/nvim-autopairs">windwp/nvim-autopairs</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/rust/'>Rust</a>, <a href='/categories/neovim/'>Neovim</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/rust/" class="post-tag no-text-decoration" >rust</a> <a href="/tags/ide/" class="post-tag no-text-decoration" >ide</a> <a href="/tags/neovim/" class="post-tag no-text-decoration" >neovim</a> <a href="/tags/vimspector/" class="post-tag no-text-decoration" >vimspector</a> <a href="/tags/rust-tools/" class="post-tag no-text-decoration" >rust-tools</a> <a href="/tags/rust-analyzer/" class="post-tag no-text-decoration" >rust-analyzer</a> <a href="/tags/debugger/" class="post-tag no-text-decoration" >debugger</a> <a href="/tags/lsp/" class="post-tag no-text-decoration" >lsp</a> <a href="/tags/development/" class="post-tag no-text-decoration" >development</a> <a href="/tags/environment/" class="post-tag no-text-decoration" >environment</a> <a href="/tags/walktrhough/" class="post-tag no-text-decoration" >walktrhough</a> <a href="/tags/guide/" class="post-tag no-text-decoration" >guide</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author. <br />Source code samples licensed under <a href="https://mit-license.org/">MIT<a> or <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache-2.0<a></div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Rust%20and%20Neovim%20-%20A%20Thorough%20Guide%20and%20Walkthrough%20-%20the%20trait&url=https%3A%2F%2Frsdlt.github.io%2Fposts%2Frust-nvim-ide-guide-walkthrough-development-debug%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Rust%20and%20Neovim%20-%20A%20Thorough%20Guide%20and%20Walkthrough%20-%20the%20trait&u=https%3A%2F%2Frsdlt.github.io%2Fposts%2Frust-nvim-ide-guide-walkthrough-development-debug%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Frsdlt.github.io%2Fposts%2Frust-nvim-ide-guide-walkthrough-development-debug%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/rust-nvim-ide-guide-walkthrough-development-debug/">Rust and Neovim - A Thorough Guide and Walkthrough</a><li><a href="/posts/rust-sycamore-trunk-wasm-iterators-vigenere-cipher/">Building a Real-Time Web Cipher with Rust, Sycamore and Trunk</a><li><a href="/posts/rust-use-newtype-pattern-display-trait-array-generics/">Implementing the Display Trait on a Generic Array using Newtype Pattern</a><li><a href="/posts/ruxel-part-1-rust-ray-tracer-renderer-3d-development/">Ruxel - Building a Ray Tracer with Rust Part 1</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/rust/">rust</a> <a class="post-tag" href="/tags/trait/">trait</a> <a class="post-tag" href="/tags/3d/">3D</a> <a class="post-tag" href="/tags/array/">array</a> <a class="post-tag" href="/tags/generics/">generics</a> <a class="post-tag" href="/tags/neovim/">neovim</a> <a class="post-tag" href="/tags/ray-tracer/">ray tracer</a> <a class="post-tag" href="/tags/rendering/">rendering</a> <a class="post-tag" href="/tags/struct/">struct</a> <a class="post-tag" href="/tags/bounds/">bounds</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ruxel-part-1-rust-ray-tracer-renderer-3d-development/"><div class="card-body"> <em class="small" data-ts="1661350800" data-df="ll" > Aug 24, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Ruxel - Building a Ray Tracer with Rust Part 1</h3><div class="text-muted small"><p> This post is Part 1 in a series to share my journey in developing Ruxel, a simple Ray Tracer and 3D Renderer written in Rust, from scratch. Please see the Series Prelude for more information regar...</p></div></div></a></div><div class="card"> <a href="/posts/welcome-blog-rust-technology-development-programming-language/"><div class="card-body"> <em class="small" data-ts="1659846120" data-df="ll" > Aug 7, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Basic Operator Overloading with Traits</h3><div class="text-muted small"><p> In this post I want to share one of my favorite characteristics about Rust: how it provides the capability to overload an operator to support arithmetic (and other) operations on our own user-defin...</p></div></div></a></div><div class="card"> <a href="/posts/ruxel-ray-tracer-project-first-update-rust-programming-development/"><div class="card-body"> <em class="small" data-ts="1660095300" data-df="ll" > Aug 9, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Ruxel - Building a Ray Tracer with Rust (Prelude)</h3><div class="text-muted small"><p> As far back as I can remember I have always been fascinated by 3D graphics. And building a Ray Tracer and Renderer seems like a fantastic project to sharpen my skills with Rust. So I have embarked...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/ruxel-ray-tracer-project-first-update-rust-programming-development/" class="btn btn-outline-primary" prompt="Older"><p>Ruxel - Building a Ray Tracer with Rust (Prelude)</p></a> <a href="/posts/ruxel-part-1-rust-ray-tracer-renderer-3d-development/" class="btn btn-outline-primary" prompt="Newer"><p>Ruxel - Building a Ray Tracer with Rust Part 1</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/rust/">rust</a> <a class="post-tag" href="/tags/trait/">trait</a> <a class="post-tag" href="/tags/3d/">3D</a> <a class="post-tag" href="/tags/array/">array</a> <a class="post-tag" href="/tags/generics/">generics</a> <a class="post-tag" href="/tags/neovim/">neovim</a> <a class="post-tag" href="/tags/ray-tracer/">ray tracer</a> <a class="post-tag" href="/tags/rendering/">rendering</a> <a class="post-tag" href="/tags/struct/">struct</a> <a class="post-tag" href="/tags/bounds/">bounds</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/rsdlt">Rodrigo Santiago</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."><br />Use of this site is subject to our <a href="/about/#terms-of-use">Terms of Use.<a></span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default"); let config = {theme: expectedTheme}; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ $("pre").has("code.language-mermaid").each(function () { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); })(); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { /* start/end delimiter pairs for in-line math */ inlineMath: [ ['$', '$'], ['\\(', '\\)'] ], /* start/end delimiter pairs for display math */ displayMath: [ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-4YJ2815MJ6"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-4YJ2815MJ6'); }); </script>
